{% extends 'admin/base.html.twig' %}
{% trans_default_domain 'FOSUserBundle' %}
{% import ':default:fields_error.html.twig' as display_errors %}

{% block header -%}
    Votre profil
{% endblock header %}


{% block content -%}
    <div class="box">
        <div class="box-header with-border">
            <h3 class="box-title">Modification du profil</h3>
        </div><!-- /.box-header -->
        <!-- form start -->
        {{ form_start(form, {'method': 'POST',  'action':  path('fos_user_profile_edit'), 'attr': { 'role': 'form','class' : 'fos_user_profile_edit form-horizontal', 'id' : 'create_edit_user_form', 'novalidate':'novalidate' } }) }}
        <div class="box-body">
            {{ display_errors.all_form_errors(form) }}
            {% include ':default:message_flashbag.html.twig' %}
            <div class="form-group {% if form.username.vars.errors|length %}has-error{% endif %}">
                {{ form_label(form.username, 'profile.show.username'|trans({}, 'FOSUserBundle'), { 'label_attr':{'class':'col-sm-3 control-label'} }) }}
                <div class="col-sm-6">
                    {{ form_widget(form.username, { 'attr': {'class': 'form-control', 'maxlength': '16'} }) }}
                </div>
            </div>
            <div class="form-group {% if form.email.vars.errors|length %}has-error{% endif %}">
                {{ form_label(form.email, 'profile.show.email'|trans({}, 'FOSUserBundle'), { 'label_attr':{'class':'col-sm-3 control-label'} }) }}
                <div class="col-sm-6">
                    {{ form_widget(form.email, { 'attr': {'class': 'form-control', 'maxlength': '250'} }) }}
                </div>
            </div>
            <div class="form-group {% if form.current_password.vars.errors|length %}has-error{% endif %}">
                {{ form_label(form.current_password, 'Mot de passe actuel'  , { 'label_attr':{'class':'col-sm-3 control-label'} }) }}
                <div class="col-sm-6">
                    {{ form_widget(form.current_password, { 'attr': {'class': 'form-control', 'maxlength': '250'} }) }}
                </div>
            </div>


        </div><!-- /.box-body -->
        <div class="box-footer">
            <div class="col-md-8 col-md-offset-4">
                <div class="col-xs-2">
                    <button class="btn btn-warning btn-flat pull-right" type="reset">RÃ©initialiser</button>
                </div>
                <div class="col-xs-2">
                    <input class="btn btn-primary btn-flat" type="submit" value="Enregistrer" />
                </div>
            </div>
        </div><!-- /.box-footer -->
        {{ form_widget(form._token) }}
        {{ form_end(form) }}
    </div><!-- /.box -->
{% endblock content %}
